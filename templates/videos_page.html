<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ø³Ø¤Ø§Ù„ Ø¨Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</title>
  <style>
    .container {
      display: flex;
      gap: 20px;
      align-items: flex-start;
    }
    .video-progress-bar {
      width: 100%;
      background: linear-gradient(90deg, #2193b0 0%, #6dd5ed 100%);
      padding: 18px 0;
      margin-bottom: 28px;
      text-align: center;
      font-size: 22px;
      font-weight: bold;
      border-radius: 14px;
      color: #fff;
      letter-spacing: 1px;
      box-shadow: 0 2px 12px rgba(33,147,176,0.16);
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 18px;
    }
    .progress-icon {
      font-size: 28px;
      margin-right: 8px;
    }
    .progress-label {
      font-size: 18px;
      color: #eaf6fb;
      margin: 0 4px;
    }
    .progress-value {
      background: rgba(255,255,255,0.18);
      padding: 4px 12px;
      border-radius: 8px;
      font-size: 20px;
      color: #fff;
      margin: 0 2px;
    }
    .progress-separator {
      font-size: 20px;
      color: #fff;
      margin: 0 8px;
    }
    video {
      width: 600px;
      height: 450px;
      border-radius: 16px;
      object-fit: cover;
      border: 5px solid #2193b0;
      box-shadow: 0 4px 16px rgba(33,147,176,0.18);
      background: #eaf6fb;
    }
    .options {
      max-width: 400px;
      min-height: 320px;
      background: #f0f0f0;
      padding: 32px 24px;
      border-radius: 16px;
      box-shadow: 0 4px 16px rgba(33,147,176,0.12);
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      gap: 18px;
    }
    .option {
      display: block;
      margin: 0;
      padding: 16px 14px;
      border: 1.5px solid #2193b0;
      border-radius: 10px;
      cursor: pointer;
      font-size: 18px;
      background: #fff;
      transition: background 0.3s, color 0.3s, box-shadow 0.3s;
      box-shadow: 0 2px 8px rgba(33,147,176,0.07);
    }
    .option:hover {
      background: #eaf6fb;
      color: #2193b0;
      box-shadow: 0 4px 16px rgba(33,147,176,0.18);
    }
    .correct {
      color: #28a745;
      background: #d4edda;
      border-color: #28a745;
      box-shadow: 0 2px 8px rgba(40,167,69,0.12);
    }
    .wrong {
      color: #dc3545;
      background: #f8d7da;
      border-color: #dc3545;
      box-shadow: 0 2px 8px rgba(220,53,69,0.12);
    }
    #nextBtn, #prevBtn {
      margin-top: 20px;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
    }
    #nextBtn {
      background: #007bff;
      color: white;
      margin-left: 8px;
      display: none;
    }
    #nextBtn:hover {
      background: #0056b3;
    }
    #prevBtn {
      background: #6c757d;
      color: white;
      display: none;
    }
    #prevBtn:hover {
      background: #495057;
    }
    #resultsBox {
      display: none;
      min-width: 220px;
      min-height: 120px;
      margin-top: 0;
      margin-right: 0;
      margin-left: 24px;
      padding: 18px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(33,147,176,0.12);
      text-align: center;
      align-self: flex-start;
      font-size: 20px;
      position: relative;
    }
    #correctDisplay {
      font-size: 22px;
      color: green;
      font-weight: bold;
      margin-bottom: 10px;
      display: block;
    }
    #wrongDisplay {
      font-size: 22px;
      color: red;
      font-weight: bold;
      display: block;
    }
    #submitTestBtn {
      margin-top: 18px;
      padding: 11px 26px;
      border: none;
      border-radius: 10px;
      background: #28a745;
      color: #fff;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(40,167,69,0.18);
      display: none;
    }
    #submitTestBtn:hover {
      background: #218838;
    }
  </style>
</head>
<body>
  <div class="video-progress-bar" id="videoProgress">
    <span class="progress-icon">ğŸ¬</span>
    <span class="progress-label">Ø¹Ø¯Ø¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª:</span>
    <span id="totalVideos" class="progress-value"></span>
    <span class="progress-separator">|</span>
    <span class="progress-label">ØªÙ…Øª Ù…Ø´Ø§Ù‡Ø¯Ø©:</span>
    <span id="watchedVideos" class="progress-value"></span>
  </div>
  <div class="container">
    <video id="myVideo" controls>
      <source id="videoSource" src="" type="video/mp4">
    </video>
    <div class="options">
      <h3 id="questionTitle"></h3>
      <div id="optionsList"></div>
      <button id="prevBtn">â¬… Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
      <button id="nextBtn">Ø§Ù„ØªØ§Ù„ÙŠ â–¶</button>
    </div>
    <div id="resultsBox">
      <span id="correctDisplay"></span><br>
      <span id="wrongDisplay"></span>
      <form id="submitTestForm" action="/finish_test/1" method="post">
        <button id="submitTestBtn" type="submit">ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
      </form>
    </div>
  </div>

  <script>
    const questions = [
      {
        video: "{{url_for('static', filename='videos_page/video_1.mp4')}}",
        question: "Ø¹Ù„Ù‰ Ù…Ø§Ø°Ø§ ÙŠØ¬Ø¨ Ø£Ù† ØªÙ†ØªØ¨Ù‡ Ù‡Ù†Ø§ØŸ",
        options: [
          "Ø£Ù† Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† Ø§Ù„Ø°ÙŠÙ† ÙŠØªØ¬Ø§ÙˆØ²ÙˆÙ†Ùƒ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙ‚Ø·Ø¹ÙˆØ§ Ø¹Ù„ÙŠÙƒ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
          "Ø£Ù† ØªØ°Ù‡Ø¨ Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ø¥Ø°Ø§ ÙƒÙ†Øª ØªÙ‚ÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø£ÙŠØ³Ø±.",
          "Ø£Ù† Ù‡Ù†Ø§Ùƒ Ø­Ø±ÙƒØ© Ù…Ø±ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø£ÙŠÙ…Ù† Ø¹Ù†Ø¯Ù…Ø§ ØªØºÙŠÙ‘Ø± Ø§Ù„Ù…Ø³Ø§Ø±."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_2.mp4')}}",
        question: "Ù…Ø§Ø°Ø§ ÙŠØ¸Ù‡Ø± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŸ",
        options: [
          "ØªØ²ÙŠØ¯ Ø§Ù„Ø³Ø±Ø¹Ø©.",
          "ØªÙ†ØªØ¸Ø± Ø­ØªÙ‰ ØªÙ…Ø± Ø§Ù„Ø¯Ø±Ø§Ø¬Ø©.",
          "ØªØªØ¬Ø§ÙˆØ² Ø§Ù„Ø¯Ø±Ø§Ø¬Ø© Ø¨Ø³Ø±Ø¹Ø©."
        ],
        correct: 1
      },
      {
        video: "{{url_for('static', filename='videos_page/video_3.mp4')}}",
        question: "Ù…Ø§Ø°Ø§ ÙŠØ¸Ù‡Ø± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŸ",
        options: [
          "ØªØ²ÙŠØ¯ Ø§Ù„Ø³Ø±Ø¹Ø©.",
          "ØªÙ†ØªØ¸Ø± Ø­ØªÙ‰ ØªÙ…Ø± Ø§Ù„Ø¯Ø±Ø§Ø¬Ø©.",
          "ØªØªØ¬Ø§ÙˆØ² Ø§Ù„Ø¯Ø±Ø§Ø¬Ø© Ø¨Ø³Ø±Ø¹Ø©."
        ],
        correct: 1
      },
      {
        video: "{{url_for('static', filename='videos_page/video_4.mp4')}}",
        question: "Ù…Ø§Ø°Ø§ ÙŠØ¸Ù‡Ø± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŸ",
        options: [
          "Ø³ÙŠØ§Ø±Ø© ØªØªØ¬Ø§ÙˆØ² Ø¨Ø³Ø±Ø¹Ø©.",
          "Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ© Ù‚Ø§Ø¯Ù…Ø©.",
          "Ø¥Ø´Ø§Ø±Ø© ØªÙˆÙ‚Ù."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_5.mp4')}}",
        question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØŸ",
        options: [
          "Ø´Ø§Ø±Ø¹ Ù…Ø²Ø¯Ø­Ù… Ø¨Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª.",
          "Ø±Ø¬Ù„ ÙŠÙ…Ø´ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø±ØµÙŠÙ.",
          "Ø¶ÙˆØ¡ Ø£ØµÙØ± ÙÙŠ Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙˆØ±."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_6.mp4')}}",
        question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ¬Ø¨ Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ù„Ù‡ØŸ",
        options: [
          "Ø·ÙÙ„ ÙŠØ±ÙƒØ¶ Ù†Ø­Ùˆ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
          "Ø­Ø§ÙÙ„Ø© ØªØªÙˆÙ‚Ù.",
          "Ø³ÙŠØ§Ø±Ø© ØµØºÙŠØ±Ø© ØªØ³ÙŠØ± Ø¨Ø¨Ø·Ø¡."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_7.mp4')}}",
        question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ¸Ù‡Ø± Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø±ØµÙŠÙØŸ",
        options: [
          "Ø¯Ø±Ø§Ø¬Ø© ØªÙ…Ø± Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø±ØµÙŠÙ.",
          "Ø³ÙŠØ§Ø±Ø© Ø´Ø±Ø·Ø© Ø®Ù„ÙÙƒ.",
          "Ø·Ø±ÙŠÙ‚ Ø®Ø§Ù„Ù Ù…Ù† Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_8.mp4')}}",
        question: "Ù…Ø§Ø°Ø§ ØªØ±Ù‰ ÙÙŠ Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ",
        options: [
          "Ø¥Ø´Ø§Ø±Ø© Ù…Ø±ÙˆØ± Ø®Ø¶Ø±Ø§Ø¡.",
          "Ø³ÙŠØ§Ø±Ø© ØªÙ†ØªØ¸Ø± Ø§Ù„Ø§Ù†Ø¹Ø·Ø§Ù.",
          "Ø±Ø¬Ù„ ÙŠØ­Ù…Ù„ Ø­Ù‚ÙŠØ¨Ø© ÙƒØ¨ÙŠØ±Ø©."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_9.mp4')}}",
        question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ­Ø¯Ø« ÙØ¬Ø£Ø©ØŸ",
        options: [
          "Ø³ÙŠØ§Ø±Ø© ØªØªÙˆÙ‚Ù ÙØ¬Ø£Ø©.",
          "ÙƒÙ„Ø¨ ÙŠØ±ÙƒØ¶ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
          "Ø¶ÙˆØ¡ Ø£Ø­Ù…Ø± ÙÙŠ Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙˆØ±."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_10.mp4')}}",
        question: "Ù…Ø§Ø°Ø§ ÙŠØ­Ø¯Ø« Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§ÙÙ„Ø©ØŸ",
        options: [
          "Ø­Ø§ÙÙ„Ø© ØªÙØªØ­ Ø£Ø¨ÙˆØ§Ø¨Ù‡Ø§.",
          "Ø¯Ø±Ø§Ø¬Ø© ØªÙ…Ø± Ù…Ù† Ø§Ù„Ø·Ø±ÙŠÙ‚.",
          "Ø³ÙŠØ§Ø±Ø© Ø¥Ø³Ø¹Ø§Ù ØªÙ‚ØªØ±Ø¨."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_11.mp4')}}",
        question: "ÙƒÙŠÙ ÙŠØ¨Ø¯Ùˆ Ø§Ù„Ø´Ø§Ø±Ø¹ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø·Ø±ØŸ",
        options: [
          "Ø´Ø§Ø±Ø¹ Ø²Ù„Ù‚ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø·Ø±.",
          "Ø³ÙŠØ§Ø±Ø© ØªØªØ¬Ø§ÙˆØ² Ø¨Ø³Ø±Ø¹Ø©.",
          "Ù…Ø´Ø§Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø±ØµÙŠÙ."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_12.mp4')}}",
        question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ­Ø¯Ø« Ø¹Ù†Ø¯ Ø§Ù„ØªØ§ÙƒØ³ÙŠØŸ",
        options: [
          "Ø³ÙŠØ§Ø±Ø© ØªØ§ÙƒØ³ÙŠ ØªØªÙˆÙ‚Ù.",
          "Ø¥Ø´Ø§Ø±Ø© Ù…Ø±ÙˆØ± ØµÙØ±Ø§Ø¡.",
          "Ø±Ø¬Ù„ ÙŠÙ‚ÙˆØ¯ Ø¯Ø±Ø§Ø¬Ø©."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_13.mp4')}}",
        question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø´Ù‡Ø¯ ÙÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ØŸ",
        options: [
          "Ù…Ø·Ø¨ ØµÙ†Ø§Ø¹ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
          "Ø´Ø§Ø­Ù†Ø© ÙƒØ¨ÙŠØ±Ø© Ù‚Ø§Ø¯Ù…Ø©.",
          "Ø¶ÙˆØ¡ Ø£Ø®Ø¶Ø± ÙÙŠ Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙˆØ±."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_14.mp4')}}",
        question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ­Ø¯Ø« Ø¨Ø³Ø±Ø¹Ø©ØŸ",
        options: [
          "Ø³ÙŠØ§Ø±Ø© Ø¥Ø³Ø¹Ø§Ù ØªÙ…Ø± Ø¨Ø³Ø±Ø¹Ø©.",
          "Ø·ÙÙ„ ÙŠØ±ÙƒØ¶ Ù†Ø­Ùˆ Ø§Ù„Ø·Ø±ÙŠÙ‚.",
          "Ø±Ø¬Ù„ ÙŠÙ…Ø´ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø±ØµÙŠÙ."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_15.mp4')}}",
        question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØŸ",
        options: [
          "Ø´Ø§Ø±Ø¹ Ù…Ø²Ø¯Ø­Ù… Ø¨Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª.",
          "Ù‚Ø·Ø© ØªØ¹Ø¨Ø± Ø§Ù„Ø·Ø±ÙŠÙ‚.",
          "Ø¯Ø±Ø§Ø¬Ø© ØªÙ…Ø± Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø±ØµÙŠÙ."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_16.mp4')}}",
        question: "Ù…Ø§Ø°Ø§ ÙŠØ­Ø¯Ø« ÙØ¬Ø£Ø©ØŸ",
        options: [
          "Ø³ÙŠØ§Ø±Ø© ØªØªÙˆÙ‚Ù ÙØ¬Ø£Ø©.",
          "Ø¥Ø´Ø§Ø±Ø© ØªÙˆÙ‚Ù.",
          "Ø±Ø¬Ù„ ÙŠØ­Ù…Ù„ Ø­Ù‚ÙŠØ¨Ø© ÙƒØ¨ÙŠØ±Ø©."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_17.mp4')}}",
        question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ­Ø¯Ø« Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§ÙÙ„Ø©ØŸ",
        options: [
          "Ø­Ø§ÙÙ„Ø© ØªØªÙˆÙ‚Ù.",
          "Ø¶ÙˆØ¡ Ø£ØµÙØ± ÙÙŠ Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙˆØ±.",
          "Ø³ÙŠØ§Ø±Ø© ØµØºÙŠØ±Ø© ØªØ³ÙŠØ± Ø¨Ø¨Ø·Ø¡."
        ],
        correct: 0
      },
      {
        video: "{{url_for('static', filename='videos_page/video_18.mp4')}}",
        question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„ÙÙŠØ¯ÙŠÙˆØŸ",
        options: [
          "Ù†ÙØ§Ø¯ Ø§Ù„ÙˆÙ‚ÙˆØ¯.",
          "Ø¥Ø´Ø§Ø±Ø© Ù…Ø±ÙˆØ± Ø­Ù…Ø±Ø§Ø¡.",
          "Ø¹Ø·Ù„ ÙÙŠ Ø§Ù„Ù…Ø­Ø±Ùƒ."
        ],
        correct: 1
      }
    ];
    let current = 0;
    let correctCount = 0;
    let wrongCount = 0;
    let correctAnswered = false;
    let answered = Array(questions.length).fill(false);
    let selectedAnswers = Array(questions.length).fill(null);

    function updateProgressBar() {
      document.getElementById("totalVideos").textContent = questions.length;
      document.getElementById("watchedVideos").textContent = current + 1;
    }

    function loadQuestion(idx, autoPlay = true) {
      document.getElementById("videoSource").src = questions[idx].video;
      document.getElementById("myVideo").load();
      if (autoPlay) {
        document.getElementById("myVideo").play();
      }
      document.getElementById("questionTitle").textContent = questions[idx].question;

      const optionsDiv = document.getElementById("optionsList");
      optionsDiv.innerHTML = "";
      questions[idx].options.forEach((opt, i) => {
        const div = document.createElement("button");
        div.className = "option";
        div.textContent = opt;
        div.onclick = () => checkAnswer(i);
        if (answered[idx]) {
          div.disabled = true;
          div.style.opacity = "0.7";
          div.style.cursor = "not-allowed";
          if (selectedAnswers[idx] === i) {
            div.classList.add(
              i === questions[idx].correct ? "correct" : "wrong"
            );
          }
          if (i === questions[idx].correct && selectedAnswers[idx] !== i) {
            div.classList.add("correct");
          }
        }
        optionsDiv.appendChild(div);
      });

      document.getElementById("nextBtn").style.display = "none";
      document.getElementById("nextBtn").textContent = "Ø§Ù„ØªØ§Ù„ÙŠ â–¶";
      document.getElementById("nextBtn").onclick = goNext;

      document.getElementById("prevBtn").style.display = idx > 0 ? "inline-block" : "none";

      correctAnswered = false;

      if (answered[idx]) {
        document.getElementById("nextBtn").style.display = "inline-block";
        if (idx === questions.length - 1) {
          document.getElementById("nextBtn").textContent = "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± - Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©";
          document.getElementById("nextBtn").onclick = showResults;
        } else {
          document.getElementById("nextBtn").textContent = "Ø§Ù„ØªØ§Ù„ÙŠ â–¶";
          document.getElementById("nextBtn").onclick = goNext;
        }
      }

      updateProgressBar();
    }

    function checkAnswer(selected){
      if (answered[current]) return;
      selectedAnswers[current] = selected;
      let options = document.querySelectorAll(".option");
      let correctAnswer = questions[current].correct;

      if (correctAnswered) return;
      correctAnswered = true;

      if(selected === correctAnswer){
        options[selected].classList.add("correct");
        correctCount++;
        answered[current] = true;
      } else {
        options[selected].classList.add("wrong");
        options[correctAnswer].classList.add("correct");
        wrongCount++;
        answered[current] = true;
      }

      options.forEach(opt => opt.style.pointerEvents = "none");

      let oldImg = document.getElementById("sideFeedbackImg");
      if (oldImg) oldImg.remove();

      let feedbackImg = document.createElement("img");
      feedbackImg.id = "sideFeedbackImg";
      feedbackImg.style.display = "block";
      feedbackImg.style.margin = "24px 0 0 24px";
      feedbackImg.style.maxWidth = "180px";
      feedbackImg.style.maxHeight = "180px";
      feedbackImg.alt = selected === correctAnswer ? "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©" : "Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©";
      feedbackImg.src = selected === correctAnswer
        ? "{{url_for('static', filename='images/mickey_1.png')}}"
        : "{{url_for('static', filename='images/mickey_2.png')}}";

      document.querySelector(".container").appendChild(feedbackImg);

      document.getElementById("nextBtn").style.display = "inline-block";
      if(current === questions.length - 1){
        document.getElementById("nextBtn").textContent = "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± - Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©";
        document.getElementById("nextBtn").onclick = showResults;
      }
    }

    function showResults() {
      document.getElementById("resultsBox").style.display = "block";
      document.getElementById("correctDisplay").textContent = `âœ… Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©: ${correctCount}`;
      document.getElementById("wrongDisplay").textContent = `âŒ Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ø®Ø§Ø·Ø¦Ø©: ${wrongCount}`;
      const nextBtn = document.getElementById("nextBtn");
      nextBtn.disabled = false;
      nextBtn.textContent = "ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†";
      nextBtn.style.display = "inline-block";
      nextBtn.onclick = resetExam;
      document.getElementById("submitTestBtn").style.display = "inline-block";
    }

    function resetExam() {
      current = 0;
      correctCount = 0;
      wrongCount = 0;
      correctAnswered = false;
      answered = Array(questions.length).fill(false);
      selectedAnswers = Array(questions.length).fill(null);
      document.getElementById("resultsBox").style.display = "none";
      document.getElementById("submitTestBtn").style.display = "none";
      loadQuestion(current, true);
    }

    function goNext(){
      current++;
      if(current < questions.length){
        loadQuestion(current, true);
      }
    }

    function goPrev(){
      if(current > 0){
        current--;
        loadQuestion(current, false);
      }
    }

    window.onload = () => {
      document.getElementById("totalVideos").textContent = questions.length;
      loadQuestion(current);
      document.getElementById("prevBtn").onclick = goPrev;
    };
  </script>
</body>
</html>